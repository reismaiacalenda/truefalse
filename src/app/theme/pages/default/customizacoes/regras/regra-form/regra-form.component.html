<tf-form-abas
  [abas]="abas"
  [activeModal]="activeModal"
  [formGroup]="formulario"
  [autorizar_excluir]="['regra_excluir']"
  (submeter)="onSubmit()"  
  (excluir)="removeItem()"
  >

<!-- #region Aba 1-->
<div class="tab-pane active" id="m_tabs_6_1" role="tabpanel">

  <div class="form-group m-form__group">
    <p>Olá! Daremos início à criação de uma <b>regra</b>.</p>
    <p>As regras executam <b>ações</b> no ato do agendamento. Elas se dão de acordo com o <b>tipo</b> da reserva e as <b>sentenças</b> que você definir para auditar.</p>
  </div>

  <p class="form-group m-form__group">
    Primeiramente escolha o(s) tipo(s) de reserva que esta regra auditará:
  </p>

  <div class="form-group m-form__group">
    <div class="m-checkbox-list" >

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_evento_visualizar_meu', 
      'reserva_evento_visualizar_grupo', 'reserva_evento_visualizar_unidade')
      && (this.workspaceService.currentUser.subdominio.modulos.includes('Smartrooms')
      || this.workspaceService.currentUser.subdominio.modulos.includes('Escalas híbridas'))"
        formControlName="eventos"
        retirarLabel=true
        label="Eventos">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_estacao_flexivel_visualizar_meu', 
      'reserva_estacao_flexivel_visualizar_grupo', 'reserva_estacao_flexivel_visualizar_unidade')
      && workspaceService.currentUser.subdominio.modulos.includes('Hotdesks')"
        formControlName="estacoes_flexiveis"
        retirarLabel=true
        label="Hotdesk">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_posto_de_trabalho_visualizar_meu', 
      'reserva_posto_de_trabalho_visualizar_grupo', 'reserva_posto_de_trabalho_visualizar_unidade')
      && workspaceService.currentUser.subdominio.modulos.includes('Hotdesks')"
        formControlName="postos_de_trabalho"
        retirarLabel=true
        label="Postos de trabalho">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_emprestimo_visualizar_meu', 
      'reserva_emprestimo_visualizar_grupo', 'reserva_emprestimo_visualizar_unidade')
      && workspaceService.currentUser.subdominio.modulos.includes('Serviços e recursos')"
        formControlName="emprestimos"
        retirarLabel=true
        label="Empréstimos">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_equipagem_visualizar_meu', 
      'reserva_equipagem_visualizar_grupo', 'reserva_equipagem_visualizar_unidade')
      && workspaceService.currentUser.subdominio.modulos.includes('Serviços e recursos')"
        formControlName="equipagens"
        retirarLabel=true
        label="Equipagens">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_instalacao_visualizar_meu', 
      'reserva_instalacao_visualizar_grupo', 'reserva_instalacao_visualizar_unidade')
      && (this.workspaceService.currentUser.subdominio.modulos.includes('Smartrooms')
      || this.workspaceService.currentUser.subdominio.modulos.includes('Hotdesks'))
      && workspaceService.currentUser.subdominio.modulos.includes('Serviços e recursos')"
        formControlName="instalacoes"
        retirarLabel=true
        label="Instalações">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_kit_estandes_visualizar_meu', 
      'reserva_kit_estandes_visualizar_grupo', 'reserva_kit_estandes_visualizar_unidade')
      && workspaceService.currentUser.subdominio.modulos.includes('Serviços e recursos')"
        formControlName="kit_estandes"
        retirarLabel=true
        label="Adições para eventos">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_estacionamento_visualizar_meu', 
      'reserva_estacionamento_visualizar_grupo', 'reserva_estacionamento_visualizar_unidade')
      && workspaceService.currentUser.subdominio.modulos.includes('Hotdesks')"
        formControlName="estacionamentos"
        retirarLabel=true
        label="Estacionamentos">
      </tf-check-list>

      <tf-check-list *ngIf="workspaceService.autorizar('reserva_fretado_visualizar_meu', 
      'reserva_fretado_visualizar_grupo', 'reserva_fretado_visualizar_unidade')
      && workspaceService.currentUser.subdominio.modulos.includes('Hotdesks')"
        formControlName="fretados"
        retirarLabel=true
        label="Fretados">
      </tf-check-list>

    </div>
  </div>

</div>
<!-- #endregion Aba 1 -->

<!-- #region Aba 2 --> 
  <div class="tab-pane" id="m_tabs_6_2" role="tabpanel"> 
    <div class="form-group m-form__group">
      <p>Defina agora as condições para a execução da regra.</p>
    </div>
    <div class="row">
      <div class="col-md-2" style="padding-left: 1%"><b>Ação</b></div>
      <div class="col-md-3" style="padding-left: 1%"><b>Atributo</b></div>
      <div class="col-md-3" style="padding-left: 1%"><b>Operador</b></div>
      <div class="col-md-3" style="padding-left: 1%"><b>Condicional</b></div>
    </div>
<!-- #region Selects -->
    <ng-container formArrayName="sentencas_attributes">
      <ng-container *ngFor="let itemrow of formArray.controls; let primeiro=first; let ultimo=last; let i=index" [formGroupName]="i">
        <div class="row form-group">
<!-- #region Ação -->
          <div class="col-md-2" style="padding-right:0; padding-left: 1%; flex: 0 0 14%; max-width: 14%" *ngIf="habilitarRow(itemrow)"
            [ngClass]="aplicaCssItemRow('acao', itemrow, i)">
            <tf-select-simple
              [formControl]="itemrow.get('acao')"
              [data]="montarSelectAcoes()"
              (change)="loggar(itemrow)"
              allowClear="false"
              placeholder="Selecione"
              [allowClear]="true"
              >
            </tf-select-simple>
          </div>
<!-- #endregion Ação -->
<!-- #region Atributo -->
          <div class="col-md-3" style="padding-right:0; padding-left: 1%" *ngIf="habilitarRow(itemrow)"
            [ngClass]="aplicaCssItemRow('atributo', itemrow, i)">
            <ng-container *ngIf="itemrow.get('acao').value">
              <tf-select-simple
                [formControl]="itemrow.get('atributo')"
                [data]="montarSelectAtributos(itemrow)"
                (change)="loggar(itemrow)"
                allowClear="false"
                placeholder="Selecione"
                [allowClear]="true"
                >
              </tf-select-simple>
            </ng-container>
          </div>
<!-- #endregion Atributo -->
<!-- #region Operador -->
          <div class="col-md-3" style="padding-right:0; padding-left: 1%" *ngIf="habilitarRow(itemrow)"
            [ngClass]="aplicaCssItemRow('operador', itemrow, i)">
            <ng-container *ngIf="itemrow.get('atributo').value">
              <tf-select-simple
                [formControl]="itemrow.get('operador')"
                [data]="montarSelectOperadores(itemrow)"
                (valorModificado)="definirSimboloECampo(itemrow)"
                allowClear="false"
                placeholder="Selecione"
                [allowClear]="true"
                >
              </tf-select-simple>
            </ng-container>
          </div>
<!-- #endregion Operador -->
          <!-- #region Condicional -->
          <div *ngIf="itemrow.get('operador').value===null" class="col-md-3"
            style="padding-right:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%">
          </div>
          <ng-container *ngIf="itemrow.get('operador').value">
            <ng-container [ngSwitch]="descobrirCondicional(itemrow)">
            <ng-container formGroupName="condicional">
              
              <!-- #region Multiplo -->
              <ng-container *ngSwitchCase="'multiplo'">
                <div class="col-md-3" style="padding-right:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <ng-container [ngSwitch]="itemrow.get('atributo').value">

                    <ng-container *ngSwitchCase="'anfitriao'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'diferente_grupo'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listDadosSelect['grupos']"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Grupo"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'igual_grupo'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listDadosSelect['grupos']"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Grupo"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'criador'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'diferente_grupo'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listDadosSelect['grupos']"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Grupo"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'igual_grupo'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listDadosSelect['grupos']"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Grupo"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'dia'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'diferente'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectDias"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'igual'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectDias"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'mes'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'igual'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectMeses"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'diferente'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectMeses"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'data_criacao'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'igual_nos_dias'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectDias"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'igual_nos_meses'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectMeses"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>
                    
                    <ng-container *ngSwitchCase="'espaco'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'igual'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listDadosSelect['espacos']"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'diferente'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listDadosSelect['espacos']"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'tipo_espaco'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'igual'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectTipoEspacos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'diferente'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectTipoEspacos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'localizacao'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'igual'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectLocalizacoes"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'diferente'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectLocalizacoes"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'recursos_reserva'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'igual'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectRecursos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'diferente'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectRecursos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                    <ng-container *ngSwitchCase="'servicos_reserva'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'igual'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectServicos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'diferente'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectServicos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>

                        <ng-container *ngSwitchCase="'igual_tipo'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectTipoServicos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                        <ng-container *ngSwitchCase="'diferente_tipo'">
                          <tf-select-multi
                            [form]="itemrow.get('condicional').get('multiplo')"
                            [data]="listSelectTipoServicos"
                            (valorModificado)="atualizarCondicional(i)"
                            allowClear="false"
                            placeholder="Selecione"
                            retirarLabel="true">
                          </tf-select-multi>
                        </ng-container>
                      </ng-container>
                    </ng-container>

                  </ng-container>
                  <!-- <p>Múltiplo: {{itemrow.get('condicional')?.get('multiplo').value}}</p> -->
                  <!-- <p>Categoria: {{itemrow.get('condicional')?.get('categoria').value}}</p> -->
                </div>
              </ng-container>
              <!-- #endregion Multiplo -->
              

              <!-- #region Email -->
              <ng-container *ngSwitchCase="'email'">
                <div class="col-md-4" style="padding-right:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <!-- (click)="setCategoriaParams(0)" -->
                  <ng-container [ngSwitch]="itemrow.get('atributo').value">
                    <ng-container *ngSwitchCase="'anfitriao'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'diferente_funcionario'">
                          <ng-select [items]="people$ | async"
                            bindLabel="name"
                            [addTag]="false"
                            [multiple]="true"
                            [hideSelected]="true"
                            [trackByFn]="trackByFn"
                            [minTermLength]="2"
                            [loading]="peopleLoading"
                            typeToSearchText="Por favor, utilize pelo menos 2 dígitos para adicionar"
                            formControlName="email"
                            (change)="validacao(itemrow)"
                            [typeahead]="peopleInput$"
                            >
                            <ng-template ng-option-tmp let-item="item">
                              {{item.name}} <br/>
                              <small>{{item.nome}}</small>
                            </ng-template>
                          </ng-select>
                        </ng-container>
                        <ng-container *ngSwitchCase="'igual_funcionario'">
                          <ng-select [items]="people$ | async"
                            bindLabel="name"
                            [addTag]="false"
                            [multiple]="true"
                            [hideSelected]="true"
                            [trackByFn]="trackByFn"
                            [minTermLength]="2"
                            [loading]="peopleLoading"
                            typeToSearchText="Por favor, utilize pelo menos 2 dígitos para adicionar"
                            formControlName="email"
                            (change)="validacao(itemrow)"
                            [typeahead]="peopleInput$"
                            >
                            <ng-template ng-option-tmp let-item="item">
                              {{item.name}} <br/>
                              <small>{{item.nome}}</small>
                            </ng-template>
                          </ng-select>
                        </ng-container>
                      </ng-container>
                    </ng-container>
                    <ng-container *ngSwitchCase="'criador'">
                      <ng-container [ngSwitch]="itemrow.get('operador').value">
                        <ng-container *ngSwitchCase="'diferente_funcionario'">
                          <ng-select [items]="people$ | async"
                            bindLabel="name"
                            [addTag]="false"
                            [multiple]="true"
                            [hideSelected]="true"
                            [trackByFn]="trackByFn"
                            [minTermLength]="2"
                            [loading]="peopleLoading"
                            typeToSearchText="Por favor, utilize pelo menos 2 dígitos para adicionar"
                            formControlName="email"
                            (change)="validacao(itemrow)"
                            [typeahead]="peopleInput$"
                            >
                            <ng-template ng-option-tmp let-item="item">
                              {{item.name}} <br/>
                              <small>{{item.nome}}</small>
                            </ng-template>
                          </ng-select>
                        </ng-container>
                        <ng-container *ngSwitchCase="'igual_funcionario'">
                          <ng-select [items]="people$ | async"
                            bindLabel="name"
                            [addTag]="false"
                            [multiple]="true"
                            [hideSelected]="true"
                            [trackByFn]="trackByFn"
                            [minTermLength]="2"
                            [loading]="peopleLoading"
                            typeToSearchText="Por favor, utilize pelo menos 2 dígitos para adicionar"
                            formControlName="email"
                            (change)="validacao(itemrow)"
                            [typeahead]="peopleInput$"
                            >
                            <ng-template ng-option-tmp let-item="item">
                              {{item.name}} <br/>
                              <small>{{item.nome}}</small>
                            </ng-template>
                          </ng-select>
                        </ng-container>
                      </ng-container>
                    </ng-container>
                  </ng-container>
                </div>
              </ng-container>
              <!-- #endregion Email -->

              <!-- #region custo -->
              <ng-container *ngSwitchCase="'custo'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%"*ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-money style="width:100%"
                    formControlName="numero"
                    label="Preço - R$"
                    [retirarLabel]="true"
                    [alargarCol]="true">
							    </tf-money>
                </div>                
              </ng-container>
              <!-- #endregion custo -->

              <!-- #region Data -->
              <ng-container *ngSwitchCase="'data'">
                <div class="col-md-3" style="padding-right:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-date
                    formControlName="data"
                    retirarLabel="true">
                  </tf-date>
                </div>
              </ng-container>
              <!-- #endregion Data -->

              <!-- #region Hora -->
              <ng-container *ngSwitchCase="'hora'">
                <div class="col-md-3" style="padding-right:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-time
                    formControlName="hora"
                    retirarLabel="true">
                  </tf-time>
                </div>
              </ng-container>
<!-- #endregion Hora -->
              <!-- #region Data Hora -->
              <ng-container *ngSwitchCase="'data_hora'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-date class="tf-estilizacao-date-tamanho"
                    formControlName="data"
                    retirarLabel="true">
                  </tf-date>
                  <div class="m-checkbox-inline" style="display: flex; margin: 0 2%;">
                    <label class="m-checkbox m-checkbox--bold m-checkbox--state-brand"
                      style="margin: auto">
                      <input type="checkbox" formControlName="as">
                      às
                      <span></span>
                    </label>
                  </div>
                  <ng-container *ngIf="itemrow.get('condicional')?.get('as')?.value == true">      
                    <tf-time class="tf-estilizacao-time-tamanho"
                      formControlName="hora"
                      retirarLabel="true">
                    </tf-time>
                  </ng-container>
                </div>
              </ng-container>
<!-- #endregion Data Hora -->
              <!-- #region Intervalo Data -->
              <ng-container *ngSwitchCase="'intervalo_data'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-date class="tf-estilizacao-date-tamanho"
                    formControlName="data_inicio"
                    retirarLabel="true">
                  </tf-date>
                  <span style="margin: 2%"> ... </span>
                  <tf-date class="tf-estilizacao-date-tamanho"
                    formControlName="data_fim"
                    retirarLabel="true">
                  </tf-date>
                </div>
              </ng-container>
              <!-- #endregion Intervalo Data -->
              
              <!-- #region Simples -->
                <ng-container *ngSwitchCase="'simples'">
                  <div class="col-md-3" style="padding-right:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                    [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                    <!-- (click)="setCategoriaParams(6)" -->
                    <ng-container [ngSwitch]="itemrow.get('atributo').value">
                      <ng-container *ngSwitchCase="'data'">                        
                        <ng-container [ngSwitch]="itemrow.get('operador').value">
                          <ng-container *ngSwitchCase="'igual'">
                            <tf-select-simple class="tf-estilizacao-select-simple-tamanho"
                              [formControl]="itemrow.get('condicional').get('simples')"
                              [data]="listSelectDataRegra"
                              retirarLabel="true"
                              allowClear="false"
                              (change)="loggar(itemrow)"
                              placeholder="Selecione"
                              [allowClear]="true"
                              >
                          </tf-select-simple>
                          </ng-container>
                          <ng-container *ngSwitchCase="'diferente'">
                            <tf-select-simple class="tf-estilizacao-select-simple-tamanho"
                              [formControl]="itemrow.get('condicional').get('simples')"
                              [data]="listSelectDataRegra"
                              retirarLabel="true"
                              allowClear="false"
                              (change)="loggar(itemrow)"
                              placeholder="Selecione"
                              [allowClear]="true"
                              >
                            </tf-select-simple>
                          </ng-container>     
                        </ng-container>
                      </ng-container>

                      <ng-container *ngSwitchCase="'participantes'">                        
                        <ng-container [ngSwitch]="itemrow.get('operador').value">
                          <ng-container *ngSwitchCase="'maior_capacidade'">
                            <tf-select-simple class="tf-estilizacao-select-simple-tamanho"
                              [formControl]="itemrow.get('condicional').get('simples')"
                              [data]="listSelectTipoCapacidade"
                              retirarLabel="true"
                              allowClear="false"
                              (change)="loggar(itemrow)"
                              placeholder="Selecione"
                              [allowClear]="true"
                              >
                          </tf-select-simple>
                          </ng-container>
                          <ng-container *ngSwitchCase="'menor_capacidade'">
                            <tf-select-simple class="tf-estilizacao-select-simple-tamanho"
                              [formControl]="itemrow.get('condicional').get('simples')"
                              [data]="listSelectTipoCapacidade"
                              retirarLabel="true"
                              allowClear="false"
                              (change)="loggar(itemrow)"
                              placeholder="Selecione"
                              [allowClear]="true"
                              >
                            </tf-select-simple>
                          </ng-container>     
                        </ng-container>
                      </ng-container>

                    </ng-container>
                  </div>
                </ng-container>
              <!-- #endregion Simples -->
              
              <!-- #region Antecedência -->
              <ng-container *ngSwitchCase="'antecedencia'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%"*ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-integer class="tf-estilizacao-integer-tamanho"
                    formControlName="numero"
                    retirarLabel="true"
                    [botoes]="false"
                    limiteInferior="1"
                    mask="900">
                  </tf-integer>
                  <tf-select-simple class="tf-estilizacao-select-simple-tamanho"
                    [formControl]="itemrow.get('condicional').get('periodo')"
                    [data]="listSelectPeriodos"
                    allowClear="false"
                    (change)="loggar(itemrow)"
                    placeholder="Selecione"
                    [allowClear]="true"
                    >
                  </tf-select-simple>
                  <span style="margin: auto 0 auto 0.5%">de antecedência</span>
                </div>                
              </ng-container>
<!-- #endregion Antecedência -->
<!-- #region duracao -->
              <ng-container *ngSwitchCase="'duracao'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%"*ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-integer style="width: 20%"
                    formControlName="numero"
                    retirarLabel="true"
                    [botoes]="false"
                    limiteInferior="1"
                    mask="900">
                  </tf-integer>
                  <tf-select-simple style="width: 80%"
                    [formControl]="itemrow.get('condicional').get('periodo')"
                    [data]="listSelectPeriodos"
                    allowClear="false"
                    (change)="loggar(itemrow)"
                    placeholder="Selecione"
                    [allowClear]="true"
                    >
                  </tf-select-simple>
                  <!-- <span style="margin: auto 0 auto 0.5%">de duracao</span> -->
                </div>                
              </ng-container>
              <!-- #endregion duracao -->

              <!-- #region quantidade_total_participantes -->
              <ng-container *ngSwitchCase="'quantidade_total_participantes'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%"*ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-integer style="width: 100%"
                    formControlName="numero"
                    retirarLabel="true"
                    [botoes]="false"
                    limiteInferior="1"
                    mask="900">
                  </tf-integer>
                </div>                
              </ng-container>
              <!-- #endregion quantidade_total_participantes -->

              <!-- #region quantidade_participantes_convidados -->
              <ng-container *ngSwitchCase="'quantidade_participantes_convidados'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%"*ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-integer style="width: 100%"
                    formControlName="numero"
                    retirarLabel="true"
                    [botoes]="false"
                    limiteInferior="1"
                    mask="900">
                  </tf-integer>
                </div>                
              </ng-container>
              <!-- #endregion quantidade_participantes_convidados -->

<!-- #region tempo_reserva -->
              <ng-container *ngSwitchCase="'tempo_reserva'">
                <div class="row col-md-3" style="padding-right:0; margin:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%"*ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)">
                  <tf-integer style="width: 20%"
                    formControlName="numero"
                    retirarLabel="true"
                    [botoes]="false"
                    limiteInferior="1"
                    mask="900">
                  </tf-integer>
                  <tf-select-simple style="width: 80%"
                    [formControl]="itemrow.get('condicional').get('periodo')"
                    [data]="listSelectTempos"
                    allowClear="false"
                    (change)="loggar(itemrow)"
                    placeholder="Selecione"
                    [allowClear]="true"
                    >
                  </tf-select-simple>
                  <!-- <span style="margin: auto 0 auto 0.5%">de tempo_reserva</span> -->
                </div>                
              </ng-container>
              <!-- #endregion tempo_reserva -->
<!-- #region Customizado -->
              <ng-container *ngSwitchCase="'texto'">
                <div class="col-md-3" style="padding-right:0; padding-left: 1%; flex: 0 0 27%; max-width: 27%" *ngIf="habilitarRow(itemrow)"
                  [ngClass]="aplicaCssItemRow('condicional', itemrow, i)"> 
                  <tf-text-simple
                    formControlName="simples"
                    retirarLabel="true"
                    placeholder="Valor">
                  </tf-text-simple>
                </div>
              </ng-container>
              <!-- #endregion Customizado -->
              <ng-container *ngSwitchDefault></ng-container>
              </ng-container>
            </ng-container>
          </ng-container>          
          <!-- #endregion Condicional -->
<!-- #region Remover/Restaurar -->
          <div class="col-md-1"
            style="padding-left: 1%; flex: 0 0 2.5%; max-width: 2.5%; display: flex; flex-direction: column; padding-right:0">
            <div style="margin: auto">
              <a href="#" title="Remover" (click)="deleteRow(itemrow, i)"
                *ngIf="habilitarRow(itemrow)"                
                class="btn btn-outline-danger btn-sm m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
                <i class="la la-trash"></i>
              </a>
            </div>
            <div style="margin-top: auto;">
              <a href="#" title="Restaurar" (click)="restoreRow(i)"
                *ngIf="!habilitarRow(itemrow)"
                class="btn btn-outline-success btn-sm m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
                <i class="la la-mail-reply"></i>
              </a>
            </div>     
          </div>
<!-- #endregion Remover/Restaurar -->
        </div>
<!-- #region Botões 'e' e 'ou' -->
        <div class="row form-group"
          style="display: flex; justify-content: center"
          *ngIf="itemrow.get('operador').value">
          <span style="padding-right: 5px; padding-left: 5px">
            <a href="#" id="refreshButton"
              class="btn m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air"
              [ngClass]="itemrow.get('operador_logico_prox_item').value == '0' ? 'btn-primary' : 'btn-outline-primary'"
              (click)="itemrow.get('operador_logico_prox_item').setValue(0)"
              *ngIf="ultimo" (click)="addNewRow()">
              <i>e</i>
            </a>
            <a href="#" id="refreshButton"
              class="btn m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air"
              [ngClass]="itemrow.get('operador_logico_prox_item').value == '0' ? 'btn-primary' : 'btn-outline-primary'"
              (click)="itemrow.get('operador_logico_prox_item').setValue(0)"
              *ngIf="!ultimo">
              <i>e</i>
            </a>
          </span>
          <!-- <span style="padding-right: 5px; padding-left: 5px">
            <a href="#" id="refreshButton"
              class="btn m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air"
              [ngClass]="itemrow.get('operador_logico_prox_item').value == '1' ? 'btn-primary' : 'btn-outline-primary'"
              (click)="itemrow.get('operador_logico_prox_item').setValue(1)"
              *ngIf="ultimo" (click)="addNewRow()">
              <i>ou</i>
            </a>
            <a href="#" id="refreshButton"
              class="btn m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air"
              [ngClass]="itemrow.get('operador_logico_prox_item').value == '1' ? 'btn-primary' : 'btn-outline-primary'"
              (click)="itemrow.get('operador_logico_prox_item').setValue(1)"
              *ngIf="!ultimo">
              <i>ou</i>
            </a>
          </span> -->
            <!-- <p>OU: {{itemrow.get('operador_logico_prox_item').value}}</p>
            <p>Último: {{ultimo}}</p>
            <p>Itemrow Value: {{itemrow.get('operador_logico_prox_item').value}}</p> -->
        </div>
<!-- #endregion Botões 'e' e 'ou' -->
      </ng-container>
    </ng-container>
<!-- #endregion Selects -->
  </div>
<!-- #endregion Aba 2 -->

<!-- #region Aba 3 -->
  <div class="tab-pane" id="m_tabs_6_3" role="tabpanel">
    
    <div class="form-group m-form__group"
      [ngClass]="aplicaCss('mensagem')">
      <tf-text-simple
        formControlName="mensagem"
        label="Mensagem"
        placeholder="Mensagem">
      </tf-text-simple>
    </div>
<!-- 
    <div class="form-group m-form__group col-md-2 col-sm-6"
      [ngClass]="aplicaCss('prioridade')">
      <tf-integer
        formControlName="prioridade"
        label="Prioridade"
        [limiteInferior]="0"
        [limiteSuperior]="99"
        >
      </tf-integer>
    </div> -->


  </div>
<!-- #endregion Aba 3 -->

</tf-form-abas>