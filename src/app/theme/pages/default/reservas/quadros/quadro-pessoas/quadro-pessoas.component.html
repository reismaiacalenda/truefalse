<!-- BEGIN: Subheader -->
<div class="m-subheader">
	<div class="row">
    <div class="col-6 d-none d-lg-block">
      <tf-page-map class="mr-auto"
        [menu]="[
          ['/reservas/quadros/pessoas', 'Quadro de pessoas']
        ]">
      </tf-page-map>
    </div>
		<div class="col-lg-6 col-12 d-flex justify-content-center justify-content-lg-end px-0">
      <div class="d-inline-block" *ngIf="workspaceService.autorizar('quadro_espaco_menu')
      && (this.workspaceService.currentUser.subdominio.modulos.includes('Smartrooms')
      || this.workspaceService.currentUser.subdominio.modulos.includes('Hotdesks'))">
        <a routerLink="/reservas/quadros/espacos" class="btn btn-outline-primary m-btn m-btn--custom m-btn--pill m-btn--icon m-btn--air px-3 mr-2 py-2"
          ngbTooltip="Acessar quadro de espaços" container="body" placement="bottom"
          >
          <span>
            <span class="svg-icon svg-icon-primary pl-0 svg-icon-1x5p"
              [inlineSVG]="'./assets/app/media/svg/icons/Home/Cupboard.svg'">
            </span>
            <span>
              Espaços
            </span>
          </span>
        </a>
      </div>
      <div class="d-inline-block" *ngIf="workspaceService.autorizar('quadro_pessoa_menu')
      && (this.workspaceService.currentUser.subdominio.modulos.includes('Escalas híbridas')
      || this.workspaceService.currentUser.subdominio.modulos.includes('People Hybrid Experience'))">
        <a routerLink="/reservas/quadros/pessoas" class="btn btn-primary m-btn m-btn--custom m-btn--pill m-btn--icon m-btn--air px-3 mr-2 py-2 cursor-default"
          >
          <span>
            <span class="svg-icon svg-icon-white pl-0 "
              [inlineSVG]="'./assets/app/media/svg/icons/Communication/Group.svg'">
            </span>
            <span>
              Pessoas
            </span>
          </span>
        </a>
      </div>
      <!-- <div class="d-inline-block" *ngIf="workspaceService.autorizar('quadro_recurso_menu')
      && this.workspaceService.currentUser.subdominio.modulos.includes('Serviços e recursos')">
        <a routerLink="/reservas/quadros/recursos" class="btn btn-outline-primary m-btn m-btn--custom m-btn--pill m-btn--icon m-btn--air px-3 mr-2 py-2"
          ngbTooltip="Acessar quadro de recursos" container="body" placement="bottom"
          >
          <span>
            <span class="svg-icon svg-icon-primary pl-0 svg-icon-1x5p"
              [inlineSVG]="'./assets/app/media/svg/icons/Home/Commode2.svg'">
            </span>
            <span>
              Recursos
            </span>
          </span>
        </a>
      </div> -->
      
			<!-- <a id="refreshButton" href="#" class="btn btn-outline-primary m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air"
				(click)="carregarPessoa()">
				<i class="la la-refresh"></i>
      </a> -->
      <!-- <a id="config_tela_reserva" href="#" class="btn btn-outline-primary m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air"
        (click)="parametrizacoes()">
        <i class="m-menu__link-icon flaticon-cogwheel"></i>
      </a> -->
    </div>
    <!-- <div>
        <a href="#" class="btn btn-primary m-btn m-btn--custom m-btn--pill m-btn--icon m-btn--air"
          data-toggle="modal" data-target="#m_modal_1"
          (click)="openFormModal()">
          <span>
            <i class="la la-chain"></i>
            <span>
              Vincular Display
            </span>
          </span>
        </a>
		</div> -->
    <!-- <tf-page-guia>
    </tf-page-guia> -->
	</div>
</div>
<!-- END: Subheader -->

  <div class="row material fixed-header virtualized tf-sobrepor
    card-shadowmore bg-white-o-100 rounded mx-5 px-4 py-2 mt-5 mb-5">

    <div class="" style="padding-right: 10px; width: min-content; display: inline-block; margin-right: 4%;">
      <!-- <a href="#" class="m-portlet__nav-link m-portlet__nav-link--icon m-dropdown__toggle
        tf-link_icone_branco tf-espacamento_icone_reserva tf-float-right" style="color:#000000; width: 140px"> -->
      <!-- <a href="#" style="color:#000000"> -->
        <div style="display: flex;">
          <!-- <i class="m-menu__link-icon fa flaticon-calendar" style="margin: auto 6% auto 0;"></i> -->
          <!-- (click)="carregarPessoa()" -->
          <div [formGroup]="formulario" class="form-group m-form__group" style="margin: 0; width: 6em; position: relative;">
            <tf-date class="tf-estilizacao-date" style="Display:flex; Width:8.25em"
              formControlName="data"
              exibirIcone="true"
              (ngModelChange)="carregarPessoa()"
              >
              <!-- <ng-container *ngIf="(valorModificado)? 'carregarPessoa()' : ''"></ng-container> -->
            </tf-date>            
            <!-- <p>{{valorModificado}}</p> -->
          </div>
          <!-- <i class="la la-angle-down"></i> -->
        </div>
      <!-- </a> -->
      <!-- </a> -->
      <!-- <form class="form-inline">
        <div class="form-group">
          <div class="input-group">
            <input class="form-control" placeholder="yyyy-mm-dd"
            name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"></button>
            </div>
          </div>
        </div>
      </form> -->
    </div>
    
    <!-- &nbsp;{{today.day}} / {{today.month}} / {{today.year}} -->
    <!-- <div class="m-nav m-nav--inline" style="padding-right: 10px">
      <li class="m-portlet__nav-item m-dropdown m-dropdown--down m-dropdown--inline m-dropdown--small m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push"
        data-dropdown-toggle="hover" style="float:right; padding-right:1px">
        <a href="#" class="m-portlet__nav-link m-portlet__nav-link--icon m-dropdown__toggle
          tf-link_icone_branco tf-espacamento_icone_reserva tf-float-right" style="color:#000000; width: 185px">
          <i class="m-menu__link-icon fa flaticon-calendar"></i>
            &nbsp;Data
          <i class="la la-angle-down"></i>
        </a>
        <div class="m-dropdown__wrapper">
          <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>            
          <div class="m-dropdown__inner">
            <div class="m-dropdown__body">
              <div style="padding-left: 0; padding-top: 0.1rem; padding-bottom: 0.7rem; border-bottom: 0.07rem; color: #000000"><b>Calendário</b></div>
              <div class="m-dropdown__content">
                <div style="padding-left: 0; padding-top: 0.1rem; padding-bottom: 0.7rem; border-bottom: 0.07rem; color: #000000">
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </li>
    </div> -->

    <!-- <div class="m-nav m-nav--inline" style="padding-right: 50px"> -->
      <!-- <a href="#" (click)="openModalPessoas()">
        <i class="m-menu__link-icon fa flaticon-open-box" style="color:#000000"></i>
          <span style="color:#000000">&nbsp;Pessoas</span>
        <i class="la la-angle-down" style="color:#000000"></i>
      </a> -->
    <!-- </div> -->

    <!-- <div class="m-nav m-nav--inline" style="padding-right: 10px">
      <li class="m-portlet__nav-item m-dropdown m-dropdown--down m-dropdown--inline m-dropdown--small m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push"
        data-dropdown-toggle="hover" style="display: flex; padding-right:1px">
        <a href="#" class="m-portlet__nav-link m-portlet__nav-link--icon m-dropdown__toggle
          tf-link_icone_branco tf-espacamento_icone_reserva tf-float-right" style="color:#000000; width: 185px">
          <i class="m-menu__link-icon fa flaticon-open-box"></i>
            &nbsp;Pessoa instalados
          <i class="la la-angle-down"></i>
        </a>
        <div class="m-dropdown__wrapper">
          <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>            
          <div class="m-dropdown__inner">
            <div class="m-dropdown__body">
              <div style="padding-left: 0; padding-top: 0.1rem; padding-bottom: 0.7rem; border-bottom: 0.07rem; color: #000000"><b>Pessoas instalados</b></div>
              <div class="m-dropdown__content">
                <div style="padding-left: 0; padding-top: 0.1rem; padding-bottom: 0.7rem; border-bottom: 0.07rem; color: #000000"> -->

                  <!-- FORM RECURSOS BEGIN -->
                  <!-- <form class="m-form m-form--state m-form--fit m-form--label-align-right"
                  [formGroup]="formulario" (ngSubmit)="submeter.emit('')">
                
                  <div class="modal-body">
                    <div class="m-portlet__body">
                      <div class="m-form__content">
                        <div class="m-alert m-alert--icon alert alert-danger m--hide"
                          role="alert" id="m_form_2_msg">
                          <div class="m-alert__icon">
                            <i class="la la-warning"></i>
                          </div>
                          <div class="m-alert__text">
                            Oh snap! Change a few things up and try submitting again.
                          </div>
                          <div class="m-alert__close">
                            <button type="button" class="close" data-close="alert" aria-label="Close"></button>
                          </div>
                        </div>
                      </div>  
                
                    <ng-container formArrayName="pessoas_attributes">
                      <ng-container *ngFor="let itemrow of formArrayName.controls; let i=index" [formGroupName]="i">
                        <div class="row">
                          <div class="col-md-6" *ngIf="habilitarRow(itemrow)"
                          [ngClass]="aplicaCssItemRow('pessoa_id', itemrow, i)">          
                          <p>Pessoas</p>
                            <tf-select-simple
                              formControlName="pessoa_id"
                              [data]="listDadosSelect['pessoas']"
                              placeholder="Selecione"
                              >
                            </tf-select-simple>
                          </div>
                
                          <div class="col-md-5" *ngIf="habilitarRow(itemrow)"
                          [ngClass]="aplicaCssItemRow('quantidade', itemrow, i)">
                          <p>Quantidade</p>
                              <tf-integer
                                formControlName="quantidade"
                                retirarLabel="true"
                                >
                              </tf-integer>
                          </div>
                
                          <div class="col-md-1" style="display: flex;flex-direction: column;">
                
                            <div style="margin-top: auto;">
                              <a href="#" title="Remover" (click)="deleteRow(itemrow, i)"
                                *ngIf="habilitarRow(itemrow)"                
                                class="btn btn-outline-danger btn-sm m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
                                 <i class="la la-trash"></i>
                              </a>
                            </div>
                
                            <div style="margin-top: auto;">
                              <a href="#" title="Restaurar" (click)="restoreRow(i)"
                                *ngIf="!habilitarRow(itemrow)"
                                class="btn btn-outline-success btn-sm m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
                                 <i class="la la-mail-reply"></i>
                              </a>
                            </div>
                            
                          </div> 
                                  
                        </div>        
                        <br>
                
                      </ng-container>      
                    </ng-container>
                    
                    <div>
                      <a href="#" id="refreshButton" (click)="addNewRow() "
                        class="btn btn-outline-primary m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
                        <i class="la la-plus"></i>
                      </a>
                    </div>
                
                  </div>
                </div>
                
                <div class="modal-footer">
                  <button type="button"  class="btn btn-secondary" data-dismiss="modal" (click)="activeModal.close()">
                    Cancelar
                  </button>
                  <button type="submit" class="btn btn-primary">
                    OK
                  </button>
                </div>
                
                </form> -->
                <!-- FORM RECURSOS END -->

                <!-- </div>
              </div>
            </div>
          </div>
        </div>
      </li>
    </div> -->

    <!-- <div class="m-nav m-nav--inline tf-float-right" style="color:gray" title="Em breve!">      
      Gerenciar pessoas <div style="width:0.6rem;height:0.6rem" class="m-spinner m-spinner--sm m-spinner--warning"></div>
    </div> -->
  </div>

<div *ngFor="let g of grupos; let i = index; let first = first;">
  <collapse-bar [grupo]="g" [data]="formulario.get('data').value"
  (refreshPessoa)="carregarPessoa()"></collapse-bar>
</div>

<div class="pb-40"></div>
<div class="pb-40"></div>