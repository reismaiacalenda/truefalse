<!-- <tf-form-simples
  [formGroup]="formulario"
	[activeModal]="activeModal"
	title=""
  (submeter)="onSubmit()"
  (excluir)="removeItem()"
  id="{{formulario.get('id').value}}"
 > -->

  <form class="m-form m-form--state m-form--fit m-form--label-align-right"
  [formGroup]="formulario"
  >
  <!-- (ngSubmit)="submeter.emit('')" -->

	<div class="modal-body">
		<div class="m-portlet__body">
			<div class="m-form__content">
				<div class="m-alert m-alert--icon alert alert-danger m--hide"
					role="alert" id="m_form_2_msg">
					<!-- [class.m--hide]="formulario.valid || formulario.untouched"> -->
					<div class="m-alert__icon">
						<i class="la la-warning"></i>
					</div>
					<div class="m-alert__text">
						Oh snap! Change a few things up and try submitting again.
					</div>
					<div class="m-alert__close">
						<button type="button" class="close" data-close="alert" aria-label="Close"></button>
					</div>
				</div>
      </div>  

		<ng-container formArrayName="amenities_attributes">
      <div style="display: block">
        <span style="float: left"> Amenidades </span><span style="float: right"> Quantidade </span><br><br>
        <!-- <span style="float: left"> Amenidades </span><br><br> -->
      </div>
			<ng-container *ngFor="let itemrow of formArray.controls; let i=index" [formGroupName]="i">
				<div class="row">
          <div class="col-md-8" *ngIf="habilitarRow(itemrow)" style="width: 60%;"
          [ngClass]="aplicaCssItemRow('id', itemrow, i)">
            <tf-select-simple
              [formControl]="itemrow.get('id')"
              [data]="listSelectAmenities"
              placeholder="Selecione"
              #selectAmenities
              [allowClear]="true">
            </tf-select-simple>
          </div>

          <div class="col-md-3 px-0" *ngIf="habilitarRow(itemrow)" style="width: 30%;"
          [ngClass]="aplicaCssItemRow('quantity', itemrow, i)">          
              <tf-integer
                formControlName="quantity"
                retirarLabel="true">
              </tf-integer>
          </div>

          <div class="col-md-1" style="display: flex;flex-direction: column; width: 5%;">

						<div style="margin-top: auto;">
              <a href="#" title="Remover" (click)="deleteRow(itemrow, i)"
                *ngIf="habilitarRow(itemrow)"                
                class="btn btn-outline-danger btn-sm m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
 								<i class="la la-trash"></i>
							</a>
            </div>

            <div style="margin-top: auto; width: 5%;">
              <a href="#" title="Restaurar" (click)="restoreRow(i)"
                *ngIf="!habilitarRow(itemrow)"
                class="btn btn-outline-success btn-sm m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
 								<i class="la la-mail-reply"></i>
							</a>
            </div>
            
          </div>
                  
        </div>
        <br>

<!-- <p>Formarray controls:: {{formArray.controls}}</p> DEBUG ITEMROW
<p>Instalacoes-attributes:: {{formulario.get('recursos_attributes')?.value}}</p> -->

<!-- <p>ItemRow Recurso Value: >>> {{itemrow.get('recurso_id')?.value}}</p>
<p>ItemRow Qtd Value: >>> {{itemrow.get('quantidade')?.value}}</p>
<p>ItemRow Qtd Valid: >>> {{formulario.get('recurso_id').value}}</p> -->

<!-- <p>New Record: >>> {{itemrow.value.new_record}}</p>
<p>Destroy: >>> {{itemrow.value._destroy}}</p> -->

      </ng-container>      
    </ng-container>
    
		<div>
			<a href="#" id="refreshButton" (click)="addNewRow() "
				class="btn btn-outline-primary m-btn m-btn--icon m-btn--icon-only m-btn--pill m-btn--air">
				<i class="la la-plus"></i>
			</a>
    </div>

  </div>
</div>

<div class="modal-footer">
  <button type="button"  class="btn btn-secondary" data-dismiss="modal" (click)="activeModal.close()">
    Cancelar
  </button>
  <button type="submit" (click)="aplicarFiltroAmenity()" class="btn btn-primary">
    OK
  </button>
</div>

</form>

<!-- </tf-form-simples> -->
