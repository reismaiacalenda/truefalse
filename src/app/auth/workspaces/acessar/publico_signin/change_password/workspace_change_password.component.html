<div class="m-login__signin">
  <div class="m-login__head">
    <h3 class="m-login__title">
      Alterar senha
    </h3>
    <div class="m-login__desc">
      Olá de volta! Agora, é só inserir sua nova senha, beleza?
    </div>
  </div>
  <!-- (ngSubmit)="signInForm.form.valid && signin()" -->
  <form  #signInForm="ngForm" class="m-login__form m-form" action="">
    <ng-template #alertSignin></ng-template>
    <div class="form-group m-form__group">
      <input class="form-control m-input"
      type="Password"
      placeholder="Senha"
      name="password"
      pattern="^.{6,}$"
      [(ngModel)]="updatePasswordData.password"
      required
      autofocus
      >
      <!-- #password="ngModel" -->
    </div>
    <div class="form-group m-form__group">
      <input class="form-control m-input m-login__form-input--last"
      type="Password"
      placeholder="Confirme sua senha"
      name="password"
      [(ngModel)]="updatePasswordData.passwordConfirmation"
      pattern="^.{6,}$"
      required
      >
      <!-- #password="ngModel" -->
    </div>
    <!-- {{output.errors.full_messages[0]}} -->
    <div *ngIf="output != undefined" class="m-login__form-sub">
      <!-- <span *ngIf="output != undefined && output?.success!='success'" class="m-form__help m--font-danger">
        Não foi possível atualizar sua senha. Tente novamente.
      </span> -->
      <span *ngFor="let m of output?.errors?.full_messages" class="m-form__help m--font-danger">
        {{m}}
      </span>
      <span *ngIf="output != undefined && output?.status=='success'"
        class="m-form__help m--font-success">
        Nova senha atualizada com sucesso! Volte e faça novo login.
      </span>
    </div>
    <div class="m-login__form-action">
      <button 
        (click)="trocarSenha()"
        [disabled]="loading || (updatePasswordData.password == undefined || updatePasswordData.passwordConfirmation == undefined)
        || (updatePasswordData.password != updatePasswordData.passwordConfirmation) || signInForm.invalid" 
        [ngClass]="{'m-loader m-loader--right m-loader--light': loading}"
        class="btn btn-primary m-btn m-btn--pill m-btn--custom ">
        Salvar nova senha
      </button>
      <!-- (click)="acessar.emit('')" -->
      <!-- <button 
        class="btn btn-outline-primary m-btn m-btn--pill m-btn--custom "
        routerLink="/login/publico_signin" skipLoadingChange>
        Voltar
      </button> -->
    </div>
  </form>
</div>